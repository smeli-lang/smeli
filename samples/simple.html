<!DOCTYPE html>
<html>
  <head>
    <title>Hello Smeli!</title>
    <script src="../dist/smeli.min.js"></script>
    <script>
      window.onload = () => {
        const code = `
          # setup
          a = 42
          b = a - 30
          
          # wait here
          slider = Slider {
            binding = "a"
          }
          
          $page = VSplit {
            top = slider
            bottom = TextBox {
              text = "b=" + str(b)
            }
          }
          
          # let's begin trigonometry
          b = sin(a)
          
          # let's plot this
        `;

        const engine = new smeli.Engine(code);
        console.log(engine);

        const globalScope = engine.step(3);
        console.log(globalScope);
        console.log(globalScope.lookup("b")?.evaluate());

        engine.step(-1);
        console.log(globalScope);
        console.log(globalScope.lookup("b")?.evaluate());
      };
    </script>
  </head>
  <body></body>
</html>
